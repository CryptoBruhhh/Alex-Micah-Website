<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonin' Prelaunch</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to the external CSS file -->
</head>
<body>

    <header>
        <div class="logo"><a href="/">PRELAUNCH.MEME</a></div>
        <nav>
            <ul class="nav">
                <li><a href="/users">[Click here for developer info]</a></li>
            </ul>
        </nav>
        <div class="login-info">
            <span id="auth-links">
                <!-- Links will be populated based on user login status -->
            </span>
            <img src="https://via.placeholder.com/40" alt="Profile Icon">
        </div>
    </header>

    <script>
        // Fetch user info from the server and update the login/logout links
        fetch('/user-info')
            .then(response => response.json())
            .then(data => {
                const authLinks = document.getElementById('auth-links');
                if (data.username) {
                    authLinks.innerHTML = `
                        <span>Logged in as: ${data.username}</span>
                        &nbsp;&nbsp;<a href="#" onclick="document.getElementById('logout-form').submit();">[Logout]</a>
                    `;
                } else {
                    authLinks.innerHTML = `
                        <a href="/login.html">[Login]</a>
                        &nbsp;&nbsp;<a href="/signup.html">[Create Account]</a>
                    `;
                }
            });
    </script>

    <form id="logout-form" action="/auth/logout" method="POST" style="display: none;"></form>

    <div class="main-content">
        <h1 style="text-align: center; margin-top: 20px;">Moonin'</h1>
        
        <div class="profile-info">
            <img src="profile-pic.jpg" alt="Profile Picture">
            <p><b>Coin Selected</b></p>
            <p><b>Created by: Username</b></p>
        </div>

        <div class="clock-timer">
            <p><b>00:00:00</b></p>
        </div>

        <div class="cyber-font">
            [CREATE A PRELAUNCH]
        </div>

        <div class="search-bar">
            <button>Filter</button>
            <input type="text" placeholder="Search...">
        </div>

        <div class="listings">
            <div class="listing-item">
                <p>Coin Name</p>
                <img src="listing1.jpg" alt="Listing Image">
                <p>XX Minutes</p>
                <p>XX Members</p>
            </div>
            <div class="listing-item">
                <p>Coin Name</p>
                <img src="listing2.jpg" alt="Listing Image">
                <p>XX Minutes</p>
                <p>XX Members</p>
            </div>
            <div class="listing-item">
                <p>Coin Name</p>
                <img src="listing3.jpg" alt="Listing Image">
                <p>XX Minutes</p>
                <p>XX Members</p>
            </div>
            <div class="listing-item">
                <p>Coin Name</p>
                <img src="listing4.jpg" alt="Listing Image">
                <p>XX Minutes</p>
                <p>XX Members</p>
            </div>
        </div>
    </div>

</body>
</html>
